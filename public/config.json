{"title":"猫猫聚会","timelimit":2000,"memorylimit":262144,"level":3,"description":"\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">猫猫国由</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">n</span></b><span style=\"font-size: 12pt; font-family: 宋体;\">个城市组成，城市编号为</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">1……n</span><span style=\"font-size: 12pt; font-family: 宋体;\">，由一个铁路网连接。猫猫国的交通通讯非常发达，网络由最少数量的（</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">n-1</span><span style=\"font-size: 12pt; font-family: 宋体;\">）条双向公路组成（换句话说，公路图是一棵树）。直接连接城市</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">a</span></b><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span style=\"font-size: 12pt; font-family: 宋体;\">和</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">b</span></b><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span style=\"font-size: 12pt; font-family: 宋体;\">的第</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">i</span><span style=\"font-size: 12pt; font-family: 宋体;\">条道路，长度为</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">l</span></b><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span style=\"font-size: 12pt; font-family: 宋体;\">公里。</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p>\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">运输网络由一个猫猫国运输公司提供服务。为了简化价格政策，它在火车上提供单程票。为了通过长度为</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">t</span></b><span style=\"font-size: 12pt; font-family: 宋体;\">公里的路线，你需要支付</span><span style=\"font-weight: 700;\"><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">t<sup>3/2</sup></span></span><span style=\"font-size: 12pt; font-family: 宋体;\">条鱼（因为鱼在猫猫国是主要货币）。猫猫国的法律规定，禁止将长的路线分割成短的部分并分别支付（有专门的猫猫警察，监督着这一法律不被违反）。</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p>\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt; text-indent: 21pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">某天猫猫国的国王想要准备一场盛大的聚会，国王想邀请</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">n</span><span style=\"font-size: 12pt; font-family: 宋体;\">个城市中所有对猫猫国有功的猫猫参加。猫猫国王最终确定了一份参加聚会的名单，猫猫国王想在</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">n</span><span style=\"font-size: 12pt; font-family: 宋体;\">个城市中找一个城市来举办聚会。</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p>\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt; text-indent: 21pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">因为猫猫国的大臣们都在摸鱼，并且你作为猫猫国最天资聪颖的猫猫，猫猫国王委托你去找到一个城市，使所有参加聚会的猫猫前往该城市的总路费最小（因为猫猫国要支付所有参加聚会的猫猫的路费），找到后猫猫国王会赏赐你无穷无尽的鱼。你现在知道猫猫国第</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">i</span></b><span style=\"font-size: 12pt; font-family: 宋体;\">个城市有</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">w</span></b><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span style=\"font-size: 12pt; font-family: 宋体;\">位参加聚会的选猫猫住在那里。</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p>\n","inputdescription":"\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">输入的第一行包含数字</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">n</span></b><span style=\"font-size: 12pt; font-family: 宋体;\">（</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">1≤n≤200000</span><span style=\"font-size: 12pt; font-family: 宋体;\">）</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">--</span><span style=\"font-size: 12pt; font-family: 宋体;\">猫猫国的城市数量。</span><span style=\"font-family: &quot;Courier New&quot;; font-size: 12pt;\">&nbsp;</span></p>\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">下一行包含</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">n</span><span style=\"font-size: 12pt; font-family: 宋体;\">个整数</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">w</span></b><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">1</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">, <b>w</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">2</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">,..., <b>w</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">n</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">(0 ≤ <b>w</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\"> ≤ 10</span><sup><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">8</span></sup><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">) - </span><span style=\"font-size: 12pt; font-family: 宋体;\">居住在猫猫国每个城市的有功的猫猫的数量。</span></p>\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">接下来的（</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">n - 1</span><span style=\"font-size: 12pt; font-family: 宋体;\">）行包含铁路的描述，第</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">i</span><span style=\"font-size: 12pt; font-family: 宋体;\">行包含三个整数，</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">a</span></b><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">, <b>b</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">, <b>l</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span style=\"font-size: 12pt; font-family: 宋体;\">（</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">1 ≤ <b>a</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">,<b>b</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\"> ≤ n, <b>a</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\"> ≠ <b>b</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">, 1 ≤ <b>l</b></span><b><sub><span lang=\"EN-US\" style=\"font-size: 9pt; font-family: Arial, sans-serif;\">i</span></sub></b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\"> ≤ 1000</span><span style=\"font-size: 12pt; font-family: 宋体;\">）。</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p>\n","outputdescription":"\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">打印两个数字</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">--</span><span style=\"font-size: 12pt; font-family: 宋体;\">整数</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">f</span></b><span style=\"font-size: 12pt; font-family: 宋体;\">，即进行聚会的最佳城市的编号，以及实数</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">c</span></b><span style=\"font-size: 12pt; font-family: 宋体;\">，相当于所有参加聚会的猫猫到举办聚会的城市的最小总路费<b>向上取整</b>。如果两个条件同时得到满足，你的答案将被视为正确。</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p>\n<p class=\"MsoNormal\" align=\"left\"><span style=\"font-size: 12pt; font-family: 宋体;\">如果答案有多个，你可以打印其中任何一个。</span></p><p class=\"MsoNormal\" align=\"left\"><span style=\"font-size: 12pt; font-family: 宋体;\"><br></span></p><p class=\"MsoNormal\" align=\"left\"><span style=\"font-size: 12pt; font-family: 宋体;\">注意：</span><b><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">c</span></b><span style=\"font-size: 12pt; font-family: 宋体;\">只在输出的时候向上取整数，程序运行时仍是一个实数（浮点数或整数）。（因为猫猫国的测评姬不支持输出的结果有精度误差</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">quq</span><span style=\"font-size: 12pt; font-family: 宋体;\">）</span></p>","inputsample":"<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">5</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">3 1 2 6 5</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">1 2 3</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">2 3 1</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">4 3 9</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: &quot;Courier New&quot;;\"><o:p></o:p></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">5 3 1</span></p>","outputsample":"<p class=\"MsoNormal\"><span lang=\"EN-US\" style=\"font-size: 13.5pt; font-family: Arial, sans-serif; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;\">3 192</span></p>","datacount":10,"datascore":{"1":10,"2":10,"3":10,"4":10,"5":10,"6":10,"7":10,"8":10,"9":10,"10":10},"hint":"\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">在测试样例中，举行聚会的最佳城市是</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">3</span><span style=\"font-size: 12pt; font-family: 宋体;\">。在这种选择下，举行的成本是</span><span lang=\"EN-US\" style=\"background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;\"><b>3*4<sup><span lang=\"EN-US\" style=\"font-size: 9pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;\">3/2</span></sup><span lang=\"EN-US\" style=\"font-size: 9pt; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;\">+</span></b></span><span lang=\"EN-US\" style=\"background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;\"><b>1*1<sup>3/2</sup>+2*0<sup>3/2</sup>+6*9<sup>3/2</sup>+5*1<sup>3/2</sup>=192</b>条</span><span style=\"font-size: 12pt; font-family: 宋体;\">鱼。</span>\n</p>\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">数据规模与约定</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\"><o:p></o:p></span></p>\n<p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">对于</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">20%</span><span style=\"font-size: 12pt; font-family: 宋体;\">的数据，保证</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">n<span style=\"background:white\">≤10</span></span><span style=\"font-size: 12pt; font-family: 宋体; background: white;\">。</span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体; background: white;\"><br></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span style=\"font-size: 12pt; font-family: 宋体;\">对于</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">40%</span><span style=\"font-size: 12pt; font-family: 宋体;\">的数据，保证</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif;\">n<span style=\"background:white\">≤100</span></span><span style=\"font-size: 12pt; font-family: 宋体; background: white;\">。</span><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif; background: white;\"><br><br></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif; background: white;\"><!--[if !supportLineBreakNewLine]--><span style=\"background-color: rgb(246, 244, 236); font-size: 12pt; font-family: 宋体;\">对于</span><span lang=\"EN-US\" style=\"background-color: rgb(246, 244, 236); font-size: 12pt;\">60%</span><span style=\"background-color: rgb(246, 244, 236); font-size: 12pt; font-family: 宋体;\">的数据，保证</span><span lang=\"EN-US\" style=\"background-color: rgb(246, 244, 236); font-size: 12pt;\">n<span style=\"background:white\">≤1000</span></span><span style=\"font-size: 12pt; font-family: 宋体; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;\">。</span><br></span></p><p class=\"MsoNormal\" align=\"left\" style=\"margin-bottom: 7.5pt;\"><span lang=\"EN-US\" style=\"font-size: 12pt; font-family: Arial, sans-serif; background: white;\">\n<!--[if !supportLineBreakNewLine]--><span style=\"background-color: rgb(246, 244, 236); font-size: 12pt; font-family: 宋体;\">对于</span><span lang=\"EN-US\" style=\"background-color: rgb(246, 244, 236); font-size: 12pt;\">100%</span><span style=\"background-color: rgb(246, 244, 236); font-size: 12pt; font-family: 宋体;\">的数据，保证</span><span lang=\"EN-US\" style=\"background-color: rgb(246, 244, 236); font-size: 12pt;\">n<span style=\"background:white\">≤200000</span></span><span style=\"font-size: 12pt; font-family: 宋体; background-image: initial; background-position: initial; background-size: initial; background-repeat: initial; background-attachment: initial; background-origin: initial; background-clip: initial;\">。</span><br></span></p>","source":"","compiler":"cpp","solutioncode":"#include<bits/stdc++.h>\n#define rep for(int s,i=lk[x];i;i=hd[i])\n#define Rep rep if(!vis[s=to[i]])\nconst int N=200005;\nusing namespace std;\ntypedef double db;\nint n,a[N],to[N*2],hd[N*2],ln[N*2],lk[N],cnt,\nsz[N],fi;\ndb co[N],now,sum,upd,ans=3e20,tp;\nbool vis[N];\nint u,v,w;\ninline void add(int u,int v){\n\tto[++cnt]=v,hd[cnt]=lk[u],ln[cnt]=w,lk[u]=cnt;\n}\nint get(int x,int y,int nn){\n\tRep if(s^y&&sz[s]>nn)\n\treturn get(s,x,nn);\n\treturn x;\n}\nbool fl=1;\nvoid dfs(int x,int y,long long d){\n\ttp=a[x]*sqrt((db)d);\n\tnow+=tp,upd+=d*tp;\n\tsz[x]=1;\n\trep if((s=to[i])^y)\n\tdfs(s,x,d+ln[i]),sz[x]+=sz[s];\n\tif(vis[x])sz[x]=0;\n}\nint main(){\n\tscanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n\tscanf(\"%d\",a+i);\n\tfor(int i=1;i<n;i++){\n\t scanf(\"%d%d%d\",&u,&v,&w),\n\t add(u,v),add(v,u);\n    }\n    dfs(1,0,0);\n\tfor(int x=1;fl;){\n\t\tvis[x=get(x,0,sz[x]>>1)]=1,sum=upd=fl=0;\n\t\t//cerr<<\"Cal \"<<x<<endl;\n\t\trep now=0,dfs(s=to[i],x,ln[i]),sum+=now,co[s]=now;\n\t\t//cerr<<sum<<'/'<<upd<<endl;\n\t\tif(ans>upd)fi=x,ans=upd;\n\t\tRep if(2*co[s]>sum){\n\t\t\tx=s;fl=1;break;\n\t\t}\n\t}\n\tprintf(\"%d %.0lf\",fi,ceil(ans));\n    return 0;\n}","solutiontext":""}